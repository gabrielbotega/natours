//- Here we'll just include the content for this page. No header or footer.
//- When using 'extends' I incorporate the base code
//- into this overview page and substitute the content in the block
extends base


block content 
    main.main
        .card-container
            //----------- Here in pug I can use some JS features. Therefore, I do not need to write all the static code.
            //----------- tours is the variable that was passed in the viewsController. It's an array with the objects.
            each tour in tours

                .card
                    .card__header 
                        .card__picture
                            .card__picture-overlay &nbsp;
                            img.card__picture-img(src=`/img/tours/${tour.imageCover}` alt=`${tour.name}`)
                        h3.heading-tertiary 
                            span= tour.name    
                    .card__details 
                        h4.card__sub-heading= `${tour.difficulty} ${tour.duration}-day tour`
                        p.card__text= tour.summary
                        .card__data 
                            svg.card__icon
                                use(xlink:href="/img/icons.svg#icon-map-pin")
                            span= tour.startLocation.description
                        .card__data 
                            svg.card__icon 
                                use(xlink:href="/img/icons.svg#icon-calendar")
                            if bookings
                                each booking in bookings
                                    if booking.tour.id === tour.id                                  
                                        span= booking.tourDate
                            else
                                each date, index in tour.startDates
                                    span= date.toLocaleString("en-us", {month: "short", year: "numeric"})
                        .card__data 
                            svg.card__icon 
                                use(xlink:href="/img/icons.svg#icon-flag")
                            span= `${tour.locations.length} stops`
                        .card__data 
                            svg.card__icon 
                                use(xlink:href="/img/icons.svg#icon-user")
                            span= `${tour.maxGroupSize} people`

                    .card__footer
                        p 
                            span.card__footer-value= tour.price.toLocaleString("en-us",{style: "currency", currency:"USD", minimumFractionDigits:0})
                            | 
                            span.card__footer-text per person 
                        p.card__ratings 
                            span.card__footer-value= tour.ratingsAverage 
                            | 
                            span.card__footer-text= ` ratings (${tour.ratingsQuantity})`
                        if bookings
                            a.btn.btn--green.btn--small(href=`#`) Review 
                        else
                            a.btn.btn--green.btn--small(href=`/tour/${tour.slug}`) Details 
    //----------------------------------------------------------------
        //---------- CARD 2
        .card
            .card__header 
                .card__picture
                    .card__picture-overlay &nbsp;
                    img.card__picture-img(src="img/tours/tour-2-cover.jpg" alt="Tour 1")
                h3.heading-tertiary 
                    span The Sea Explorer   
            .card__details 
                h4.card__sub-heading Medium-difficult 7-day tour
                p.card__text Exploring the jaw-dropping US east coast by foot and by boat
                .card__data 
                    svg.card__icon
                        use(xlink:href="img/icomns.svg#icon-map-pin")
                    span Oregon, US 
                .card__data 
                    svg.card__icon 
                        use(xlink:href="img/icons.svg#icon-calendar")
                    span June 2021
                .card__data 
                    svg.card__icon 
                        use(xlink:href="img/icons.svg#icon-flag")
                    span 4 stops
                .card__data 
                    svg.card__icon 
                        use(xlink:href="img/icons.svg#icon-user")
                    span 15 people 

            .card__footer
                p 
                    span.card__footer-value $497
                    span.card__footer-text per person 
                p.card__ratings 
                    span.card__footer-value 4.8
                    span.card__footer-text ratings (12)
                a.btn.btn--green.btn--small(href="#") Details
        //---------- CARD 3
        .card
            .card__header 
                .card__picture
                    .card__picture-overlay &nbsp;
                    img.card__picture-img(src="img/tours/tour-3-cover.jpg" alt="Tour 1")
                h3.heading-tertiary 
                    span The Snow Adventurer
            .card__details 
                h4.card__sub-heading Difficult 3-day tour
                p.card__text Exciting adventure in the snow with snowboarding and skiing
                .card__data 
                    svg.card__icon
                        use(xlink:href="img/icomns.svg#icon-map-pin")
                    span Aspen, US 
                .card__data 
                    svg.card__icon 
                        use(xlink:href="img/icons.svg#icon-calendar")
                    span January 2022
                .card__data 
                    svg.card__icon 
                        use(xlink:href="img/icons.svg#icon-flag")
                    span 2 stops
                .card__data 
                    svg.card__icon 
                        use(xlink:href="img/icons.svg#icon-user")
                    span 10 people 

            .card__footer
                p 
                    span.card__footer-value $697
                    span.card__footer-text per person 
                p.card__ratings 
                    span.card__footer-value 4.9
                    span.card__footer-text ratings (7)
                a.btn.btn--green.btn--small(href="#") Details
        //---------- CARD 4
        .card
            .card__header 
                .card__picture
                    .card__picture-overlay &nbsp;
                    img.card__picture-img(src="img/tours/tour-4-cover.jpg" alt="Tour 1")
                h3.heading-tertiary 
                    span The City Wanderer
            .card__details 
                h4.card__sub-heading Easy 7-day tour
                p.card__text Living the life of Wanderlust in the US' most beatiful cities
                .card__data 
                    svg.card__icon
                        use(xlink:href="img/icomns.svg#icon-map-pin")
                    span NYC, US 
                .card__data 
                    svg.card__icon 
                        use(xlink:href="img/icons.svg#icon-calendar")
                    span March 2021
                .card__data 
                    svg.card__icon 
                        use(xlink:href="img/icons.svg#icon-flag")
                    span 3 stops
                .card__data 
                    svg.card__icon 
                        use(xlink:href="img/icons.svg#icon-user")
                    span 20 people 

            .card__footer
                p 
                    span.card__footer-value $1,197
                    span.card__footer-text per person 
                p.card__ratings 
                    span.card__footer-value 4.8
                    span.card__footer-text ratings (31)
                a.btn.btn--green.btn--small(href="#") Details
        //---------- CARD 5
        .card
            .card__header 
                .card__picture
                    .card__picture-overlay &nbsp;
                    img.card__picture-img(src="img/tours/tour-5-cover.jpg" alt="Tour 1")
                h3.heading-tertiary 
                    span The Park Camper
            .card__details 
                h4.card__sub-heading Medium-Difficult 10-day tour
                p.card__text Breathing in Nature in America's most spectacular National Parks
                .card__data 
                    svg.card__icon
                        use(xlink:href="img/icomns.svg#icon-map-pin")
                    span Las Vegas, US 
                .card__data 
                    svg.card__icon 
                        use(xlink:href="img/icons.svg#icon-calendar")
                    span August 2021
                .card__data 
                    svg.card__icon 
                        use(xlink:href="img/icons.svg#icon-flag")
                    span 4 stops
                .card__data 
                    svg.card__icon 
                        use(xlink:href="img/icons.svg#icon-user")
                    span 15 people 

            .card__footer
                p 
                    span.card__footer-value $1,497
                    span.card__footer-text per person 
                p.card__ratings 
                    span.card__footer-value 4.9
                    span.card__footer-text ratings (19)
                a.btn.btn--green.btn--small(href="/tour.html") Details
        //---------- CARD 6
        .card
            .card__header 
                .card__picture
                    .card__picture-overlay &nbsp;
                    img.card__picture-img(src="img/tours/tour-6-cover.jpg" alt="Tour 1")
                h3.heading-tertiary 
                    span The Sports Lover
            .card__details 
                h4.card__sub-heading Difficult 14-day tour
                p.card__text Surfing, skating, parajumping, rock climbing and more, all in one tour
                .card__data 
                    svg.card__icon
                        use(xlink:href="img/icomns.svg#icon-map-pin")
                    span California, US 
                .card__data 
                    svg.card__icon 
                        use(xlink:href="img/icons.svg#icon-calendar")
                    span July 2021
                .card__data 
                    svg.card__icon 
                        use(xlink:href="img/icons.svg#icon-flag")
                    span 5 stops
                .card__data 
                    svg.card__icon 
                        use(xlink:href="img/icons.svg#icon-user")
                    span 8 people 

            .card__footer
                p 
                    span.card__footer-value $1,997
                    span.card__footer-text per person 
                p.card__ratings 
                    span.card__footer-value 4.7
                    span.card__footer-text ratings (23)
                a.btn.btn--green.btn--small(href="#") Details
        //---------- CARD 7
        .card
            .card__header 
                .card__picture
                    .card__picture-overlay &nbsp;
                    img.card__picture-img(src="img/tours/tour-7-cover.jpg" alt="Tour 1")
                h3.heading-tertiary 
                    span The Wine Taster
            .card__details 
                h4.card__sub-heading Easy 5-day tour
                p.card__text Exquisite wines, scenic views, exclusive barrel tastings,  and much more
                .card__data 
                    svg.card__icon
                        use(xlink:href="img/icomns.svg#icon-map-pin")
                    span California, US 
                .card__data 
                    svg.card__icon 
                        use(xlink:href="img/icons.svg#icon-calendar")
                    span February 2021
                .card__data 
                    svg.card__icon 
                        use(xlink:href="img/icons.svg#icon-flag")
                    span 3 stops
                .card__data 
                    svg.card__icon 
                        use(xlink:href="img/icons.svg#icon-user")
                    span 8 people 

            .card__footer
                p 
                    span.card__footer-value $1,997
                    span.card__footer-text per person 
                p.card__ratings 
                    span.card__footer-value 4.4
                    span.card__footer-text ratings (7)
                a.btn.btn--green.btn--small(href="#") Details
        //---------- CARD 8
        .card
            .card__header 
                .card__picture
                    .card__picture-overlay &nbsp;
                    img.card__picture-img(src="img/tours/tour-8-cover.jpg" alt="Tour 1")
                h3.heading-tertiary 
                    span The Star Gaze
            .card__details 
                h4.card__sub-heading Medium 9-day tour
                p.card__text The most remote and stunningly beautiful places for seeing the night sky
                .card__data 
                    svg.card__icon
                        use(xlink:href="img/icomns.svg#icon-map-pin")
                    span Utah, US 
                .card__data 
                    svg.card__icon 
                        use(xlink:href="img/icons.svg#icon-calendar")
                    span March 2021
                .card__data 
                    svg.card__icon 
                        use(xlink:href="img/icons.svg#icon-flag")
                    span 3 stops
                .card__data 
                    svg.card__icon 
                        use(xlink:href="img/icons.svg#icon-user")
                    span 8 people 

            .card__footer
                p 
                    span.card__footer-value $2,997
                    span.card__footer-text per person 
                p.card__ratings 
                    span.card__footer-value 4.8
                    span.card__footer-text ratings (6)
                a.btn.btn--green.btn--small(href="#") Details
        //---------- CARD 9
        .card
            .card__header 
                .card__picture
                    .card__picture-overlay &nbsp;
                    img.card__picture-img(src="img/tours/tour-9-cover.jpg" alt="Tour 1")
                h3.heading-tertiary 
                    span The Northern Lights
            .card__details 
                h4.card__sub-heading Easy 3-day tour
                p.card__text Enjoy the Northern Lights in one of the best places in the world
                .card__data 
                    svg.card__icon
                        use(xlink:href="img/icomns.svg#icon-map-pin")
                    span Yellowknife, CAN 
                .card__data 
                    svg.card__icon 
                        use(xlink:href="img/icons.svg#icon-calendar")
                    span December 2021
                .card__data 
                    svg.card__icon 
                        use(xlink:href="img/icons.svg#icon-flag")
                    span 1 stop
                .card__data 
                    svg.card__icon 
                        use(xlink:href="img/icons.svg#icon-user")
                    span 12 people 

            .card__footer
                p 
                    span.card__footer-value $1,497
                    span.card__footer-text per person 
                p.card__ratings 
                    span.card__footer-value 4.7
                    span.card__footer-text ratings (7)
                a.btn.btn--green.btn--small(href="#") Details

